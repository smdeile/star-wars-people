{"version":3,"sources":["components/Wrapper/Wrapper.module.css","components/PeopleItem/PeopleItem.module.css","services/star-wars-api.js","pictures/photoSercret.png","components/PeopleItem/PeopleItem.js","components/CommentForm/CommentForm.js","components/Comments/Comments.js","components/PeoplesList/PeoplesList.js","pictures/Star_Wars_Logo.svg","components/Wrapper/Wrapper.js","components/App.js","index.js","components/CommentForm/CommentForm.module.css","components/Comments/Comments.module.css","components/PeoplesList/PeoplesList.module.css"],"names":["module","exports","axios","defaults","baseURL","fetchPeople","get","PeopleItem","name","birth","className","css","wrapper","photoWrapper","src","avatar","alt","photo","descriptionWrapper","text","CommentForm","onSubmit","useState","comment","setComment","value","e","preventDefault","form","placeholder","rows","cols","id","onChange","target","textarea","button","type","Comments","comments","commentsFrom","map","indx","commentItem","PeopleList","people","findComment","find","el","birth_year","listItem","card","Wrapper","children","navLogo","logo","App","isLoading","setLoading","error","setError","setPeople","setComments","useEffect","a","peopleAPI","res","data","results","setTimeout","fetchPeopleFromAPI","style","color","length","fontSize","PeoplesList","newComments","existComment","push","nanoid","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bf9b9d1e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Wrapper_wrapper__Vf54f\",\"navLogo\":\"Wrapper_navLogo__1bGgT\",\"starWarsEffect\":\"Wrapper_starWarsEffect__3upQz\",\"logo\":\"Wrapper_logo__19leI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"PeopleItem_wrapper__RAJ2p\",\"photoWrapper\":\"PeopleItem_photoWrapper__11HKi\",\"photo\":\"PeopleItem_photo__xzTfu\",\"text\":\"PeopleItem_text__2bqHJ\"};","import axios from \"axios\";\r\naxios.defaults.baseURL = \"https://swapi.dev/api/\";\r\n\r\nexport const fetchPeople = () => axios.get(\"people/\");\r\n","export default __webpack_public_path__ + \"static/media/photoSercret.bdb0c322.png\";","import React from \"react\";\r\nimport avatar from \"../../pictures/photoSercret.png\";\r\nimport css from \"./PeopleItem.module.css\";\r\n\r\nfunction PeopleItem({ name, birth }) {\r\n  return (\r\n    <div className={css.wrapper}>\r\n      <div className={css.photoWrapper}>\r\n        <img src={avatar} alt=\"top secret\" className={css.photo} />\r\n      </div>\r\n      <div className={css.descriptionWrapper}>\r\n        <h2 className={css.text}>Name: {name}</h2>\r\n        <p className={css.text}>Year of birth: {birth}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PeopleItem;\r\n","import React, { useState } from \"react\";\r\nimport css from \"./CommentForm.module.css\";\r\n\r\nfunction CommentForm({ name, onSubmit }) {\r\n  const [comment, setComment] = useState(null);\r\n  const value = comment ? comment.comment : \"\";\r\n\r\n  const handleChange = ({ target }) => {\r\n    const { name, value } = target;\r\n    setComment({\r\n      name: name,\r\n      comment: value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    onSubmit(comment);\r\n    setComment(\"\");\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className={css.form}>\r\n      <textarea\r\n        placeholder=\"Write your comment here\"\r\n        rows=\"2\"\r\n        cols=\"20\"\r\n        value={value}\r\n        name={name}\r\n        id={name}\r\n        onChange={handleChange}\r\n        className={css.textarea}\r\n      ></textarea>\r\n\r\n      <button className={css.button} type=\"submit\">\r\n        comment\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default CommentForm;\r\n","import React from \"react\";\r\n\r\nimport css from \"./Comments.module.css\";\r\n\r\nfunction Comments({ comments }) {\r\n  const { commentsFrom = comments } = comments;\r\n\r\n  return (\r\n    <section>\r\n      <h3 className={css.text}>Comments:</h3>\r\n      <ul>\r\n        {commentsFrom?.comments.map((comment, indx) => (\r\n          <li key={indx} className={css.commentItem}>\r\n            <p className={css.comment}>{comment}</p>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default Comments;\r\n","import React from \"react\";\r\nimport PeopleItem from \"../PeopleItem/PeopleItem\";\r\nimport CommentForm from \"../CommentForm/CommentForm\";\r\nimport Comments from \"../Comments/Comments\";\r\nimport css from \"./PeoplesList.module.css\";\r\n\r\nconst PeopleList = ({ people, comments }) => {\r\n  function findComment(name) {\r\n    return comments.find((el) => el.name === name);\r\n  }\r\n\r\n  return (\r\n    <ul className={css.wrapper}>\r\n      {people.map(({ name, birth_year }) => (\r\n        <li key={name} className={css.listItem}>\r\n          <div className={css.card}>\r\n            <PeopleItem name={name} birth={birth_year} />\r\n            <CommentForm name={name} comments={comments} />\r\n            {findComment(name) && <Comments comments={findComment(name)} />}\r\n          </div>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\nexport default PeopleList;\r\n","export default __webpack_public_path__ + \"static/media/Star_Wars_Logo.dba53346.svg\";","import React from \"react\";\r\nimport logo from \"../../pictures/Star_Wars_Logo.svg\";\r\nimport css from \"./Wrapper.module.css\";\r\n\r\nexport default function Wrapper({ children }) {\r\n  return (\r\n    <div className={css.wrapper}>\r\n      <nav className={css.navLogo}>\r\n        <img src={logo} alt=\"logo\" className={css.logo} />\r\n      </nav>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport * as peopleAPI from \"../services/star-wars-api\";\r\nimport PeoplesList from \"./PeoplesList/PeoplesList\";\r\nimport Wrapper from \"./Wrapper/Wrapper\";\r\nimport { nanoid } from \"nanoid\";\r\n\r\nconst App = () => {\r\n  const [isLoading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [people, setPeople] = useState([]);\r\n\r\n  const [comments, setComments] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchPeopleFromAPI() {\r\n      try {\r\n        const res = await peopleAPI.fetchPeople();\r\n        const people = res.data.results;\r\n        setPeople(people);\r\n      } catch (err) {\r\n        setError(err);\r\n        setLoading(false);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    setLoading(false);\r\n    setTimeout(() => {\r\n      setLoading(true);\r\n      fetchPeopleFromAPI();\r\n    }, 2000);\r\n  }, []);\r\n\r\n  const onSubmit = (data) => {\r\n    if (data) {\r\n      const { name, comment } = data;\r\n      const newComments = [...comments];\r\n      const existComment = newComments.find((el) => el.name === name);\r\n      if (existComment) {\r\n        existComment.comments.push(comment);\r\n        setComments([...newComments]);\r\n        return;\r\n      }\r\n\r\n      setComments([\r\n        ...comments,\r\n        { id: nanoid(), name: name, comments: [comment] },\r\n      ]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Wrapper>\r\n      <>\r\n        {isLoading && (\r\n          <h2 style={{ color: \"yellow\" }}>Loading... Please wait</h2>\r\n        )}\r\n        {!isLoading && !people?.length > 0 && (\r\n          <h2 style={{ color: \"yellow\", fontSize: \"30px\" }}>\r\n            A long time ago in a galaxy far, far away…\r\n          </h2>\r\n        )}\r\n        {people.length > 0 && (\r\n          <PeoplesList\r\n            people={people}\r\n            onSubmit={onSubmit}\r\n            comments={comments}\r\n          />\r\n        )}\r\n        {error && <h2 style={{ color: \"yellow\" }}>Something went wrong</h2>}\r\n      </>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"CommentForm_button__1LsMw\",\"textarea\":\"CommentForm_textarea__2FMvB\",\"form\":\"CommentForm_form__et4al\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"Comments_text__3CvRT\",\"comment\":\"Comments_comment__1Ghgk\",\"commentItem\":\"Comments_commentItem__1Vj4Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"PeoplesList_wrapper__1H80h\",\"listItem\":\"PeoplesList_listItem__xcq0s\",\"card\":\"PeoplesList_card__1GMIb\"};"],"sourceRoot":""}